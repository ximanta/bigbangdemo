import React, { useEffect, useState } from 'react';import { useLocation, useNavigate } from 'react-router-dom';import Button from '../components/Button.jsx';function Results() {const location = useLocation();const navigate = useNavigate();const [actualAge, setActualAge] = useState(null);const [biologicalAge, setBiologicalAge] = useState(null);useEffect(() => {if (location.state && location.state.result) {const { actualAge, biologicalAge } = location.state.result;setActualAge(actualAge);setBiologicalAge(biologicalAge);} else {const storedProfile = JSON.parse(localStorage.getItem('userProfile'));const storedHistory = JSON.parse(localStorage.getItem('assessmentHistory'));if (storedProfile && storedHistory && storedHistory.length > 0) {const latestResult = storedHistory[0];const birthDate = new Date(storedProfile.dateOfBirth);const today = new Date();let age = today.getFullYear() - birthDate.getFullYear();const m = today.getMonth() - birthDate.getMonth();if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {age--;}setActualAge(age);setBiologicalAge(latestResult.biologicalAge);} else {navigate('/assessment'); // Redirect if no results or profile found}}}, [location.state, navigate]);if (actualAge === null || biologicalAge === null) {return <div className="container page-content"><p className="text-center">Loading results...</p></div>;}const ageDifference = biologicalAge - actualAge;let differenceText = '';let differenceClass = '';if (ageDifference < -0.5) {differenceText = `You are biologically ${Math.abs(ageDifference).toFixed(1)} years younger than your actual age!`;differenceClass = 'younger';} else if (ageDifference > 0.5) {differenceText = `You are biologically ${ageDifference.toFixed(1)} years older than your actual age.`;differenceClass = 'older';} else {differenceText = `Your biological age matches your actual age.`;differenceClass = 'matches';}return (<div className="container results-display page-content"><h2 className="card-title">Your Biological Age Results</h2><p className="summary-text">Based on your assessment, here's how your health compares to your chronological age.</p><div className="card"><div className="results-age-comparison"><span className="actual-age-display">Actual Age: {actualAge}</span><span className="biological-age-display">{biologicalAge}</span></div><p className={`age-difference-text ${differenceClass}`}>{differenceText}</p><div className="card-footer flex justify-center gap-10 mt-20"><Button variant="primary" onClick={() => navigate('/recommendations')}>View Recommendations</Button><Button variant="secondary" onClick={() => navigate('/assessment')}>Retake Assessment</Button><Button variant="ghost" onClick={() => alert('Share functionality not implemented.')}>Share Results</Button></div></div></div>);}.results-display {text-align: center;padding: 20px;}.results-age-comparison {display: flex;justify-content: center;align-items: baseline;margin-top: 30px;margin-bottom: 40px;}.actual-age-display {font-size: 2em;font-weight: bold;color: var(--text-light-color);margin-right: 20px;}.biological-age-display {font-size: 4em;font-weight: bold;color: var(--primary-color);}.age-difference-text {font-size: 1.2em;margin-top: 15px;font-weight: bold;}.age-difference-text.younger {color: var(--primary-color);}.age-difference-text.older {color: #e53935; /* Red for older */}.age-difference-text.matches {color: var(--text-light-color);}.summary-text {font-size: 1.1em;color: var(--text-color);margin-bottom: 30px;}export default Results;