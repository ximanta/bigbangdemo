import React, { useState, useEffect } from 'react';import { useNavigate } from 'react-router-dom';import Button from '../components/Button.jsx';import InputField from '../components/InputField.jsx';import Checkbox from '../components/Checkbox.jsx';function Settings({userProfile, onLogout, onProfileUpdate, showToast}) {const navigate = useNavigate();const [editMode, setEditMode] = useState(false);const [profileData, setProfileData] = useState(userProfile || {});useEffect(() => {setProfileData(userProfile || {});}, [userProfile]);const handleChange = (e) => {const { name, value, type, checked } = e.target;setProfileData((prevData) => ({...prevData,[name]: type === 'checkbox' ? checked : value,}));};const handleSaveProfile = () => {if (!profileData.name ||!profileData.dateOfBirth ||!profileData.gender ||!profileData.height ||!profileData.weight ||!profileData.privacyConsent) {showToast('Please fill in all required fields and accept privacy consent.', 'error');return;}onProfileUpdate(profileData);setEditMode(false);showToast('Profile updated successfully!', 'success');};return (<div className="container settings-page"><h2 className="text-center card-title mb-20">Settings</h2><div className="card settings-section"><div className="settings-section-title">User Profile</div>{!editMode ? (<> <div className="settings-item"><span className="settings-item-label">Name:</span><span className="settings-item-value">{userProfile?.name}</span></div><div className="settings-item"><span className="settings-item-label">Email:</span><span className="settings-item-value">{userProfile?.email}</span></div><div className="settings-item"><span className="settings-item-label">Date of Birth:</span><span className="settings-item-value">{userProfile?.dateOfBirth}</span></div><div className="settings-item"><span className="settings-item-label">Gender:</span><span className="settings-item-value">{userProfile?.gender}</span></div><div className="settings-item"><span className="settings-item-label">Height (cm):</span><span className="settings-item-value">{userProfile?.height}</span></div><div className="settings-item"><span className="settings-item-label">Weight (kg):</span><span className="settings-item-value">{userProfile?.weight}</span></div><Button variant="secondary" onClick={() => setEditMode(true)} fullWidth className="mt-20">Edit Profile</Button></>) : (<form onSubmit={(e) => {e.preventDefault();handleSaveProfile();}}><InputFieldlabel="Name"name="name"value={profileData.name}onChange={handleChange}required/><InputFieldlabel="Date of Birth"type="date"name="dateOfBirth"value={profileData.dateOfBirth}onChange={handleChange}required/><InputFieldlabel="Gender"name="gender"value={profileData.gender}onChange={handleChange}required/><InputFieldlabel="Height (cm)"type="number"name="height"value={profileData.height}onChange={handleChange}min="100"max="250"required/><InputFieldlabel="Weight (kg)"type="number"name="weight"value={profileData.weight}onChange={handleChange}min="30"max="300"required/><div className="form-group"><Checkboxlabel="I agree to the privacy policy and terms of service."name="privacyConsent"checked={profileData.privacyConsent}onChange={handleChange}required/></div><div className="flex gap-10 mt-20"><Button type="submit" fullWidth>Save Changes</Button><Button type="button" variant="secondary" onClick={() => setEditMode(false)} fullWidth>Cancel</Button></div></form>)}</div><div className="card settings-section"><div className="settings-section-title">App Settings</div><div className="settings-item"><span className="settings-item-label">Notifications</span><label className="toggle-switch"><inputtype="checkbox"checked={true}onChange={() => showToast('Notification toggle not implemented.', 'info')}/><span className="toggle-slider"></span></label></div><a href="#" className="settings-link" onClick={() => showToast('Privacy Policy not implemented.', 'info')}>Privacy Policy</a><a href="#" className="settings-link" onClick={() => showToast('About Us not implemented.', 'info')}>About Us</a><a href="#" className="settings-link" onClick={() => showToast('Help & Support not implemented.', 'info')}>Help & Support</a></div><Button variant="secondary" onClick={onLogout} fullWidth className="mt-20">Logout</Button></div>);}.settings-page {padding-bottom: 80px;}.settings-section {margin-bottom: 30px;}.settings-section-title {font-size: 1.3em;color: var(--primary-dark-color);margin-bottom: 15px;border-bottom: 1px solid var(--border-color);padding-bottom: 10px;}.settings-item {display: flex;justify-content: space-between;align-items: center;padding: 15px 0;border-bottom: 1px solid var(--border-color);}.settings-item:last-child {border-bottom: none;}.settings-item-label {font-size: 1em;color: var(--text-color);}.settings-item-value {font-size: 1em;color: var(--text-light-color);}.toggle-switch {position: relative;display: inline-block;width: 45px;height: 25px;}.toggle-switch input {opacity: 0;width: 0;height: 0;}.toggle-slider {position: absolute;cursor: pointer;top: 0;left: 0;right: 0;bottom: 0;background-color: #ccc;transition: .4s;border-radius: 25px;}.toggle-slider:before {position: absolute;content: "";height: 19px;width: 19px;left: 3px;bottom: 3px;background-color: white;transition: .4s;border-radius: 50%;}.toggle-switch input:checked + .toggle-slider {background-color: var(--primary-color);}.toggle-switch input:focus + .toggle-slider {box-shadow: 0 0 1px var(--primary-color);}.toggle-switch input:checked + .toggle-slider:before {transform: translateX(20px);}.settings-link {display: block;padding: 15px 0;color: var(--primary-color);text-decoration: none;border-bottom: 1px solid var(--border-color);transition: background-color 0.2s;}.settings-link:hover {background-color: var(--background-color);}.settings-link:last-of-type {border-bottom: none;}export default Settings;